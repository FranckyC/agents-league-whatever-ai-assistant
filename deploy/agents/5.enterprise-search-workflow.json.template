{
  "name": "workflow-agent",
  "description": "Enterprise search workflow that routes queries to appropriate specialized agents",
  "definition": {
    "workflow": "kind: workflow\ntrigger:\n  kind: OnConversationStart\n  id: trigger_wf\n  actions:\n    - kind: InvokeAzureAgent\n      id: router-agent-node\n      agent:\n        name: router-agent\n      conversationId: =System.ConversationId\n      input:\n        messages: =System.LastMessage.Text\n      output:\n        autoSend: false\n        responseObject: Local.SearchRoutingOutput\n    - kind: ConditionGroup\n      conditions:\n        - condition: =Local.SearchRoutingOutput.queryCategory = \"Human Resources\"\n          actions:\n            - kind: InvokeAzureAgent\n              id: hr-agent-node\n              agent:\n                name: hr-agent\n              conversationId: =System.ConversationId\n              input:\n                messages: =Local.SearchRoutingOutput\n              output:\n                autoSend: true\n          id: if-node-hr\n        - condition: =Local.SearchRoutingOutput.queryCategory = \"Information Technology\"\n          actions:\n            - kind: InvokeAzureAgent\n              id: node-1771816774579\n              agent:\n                name: it-agent\n              conversationId: =System.ConversationId\n              input:\n                messages: =Local.SearchRoutingOutput\n              output:\n                autoSend: true\n          id: if-node-it\n      id: node-1771816654901\n      elseActions:\n        - kind: InvokeAzureAgent\n          id: node-1771817931640\n          agent:\n            name: fallback-agent\n          conversationId: =System.ConversationId\n          input:\n            messages: =Local.SearchRoutingOutput\n          output:\n            autoSend: true\n    - kind: EndConversation\n      id: node-1771816798879\nid: \"\"\nname: enterprise-search-workflow\ndescription: \"\"",
    "kind": "workflow"
  }
}
